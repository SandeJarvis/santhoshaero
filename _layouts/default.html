<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ page.title | default: site.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ '/assets/style.css' | relative_url }}">
</head>
<body class="site">
  {% include header.html %}

  <main class="container site-content" id="content">
    {{ content }}
  </main>

  {% include footer.html %}

  <script>
    (function () {
      // Aero Lab: click toggle + outside click close
      var dd = document.getElementById('aerolab');
      if (dd) {
        var btn = dd.querySelector('.aerolab-btn');
        btn.addEventListener('click', function (e) {
          e.preventDefault();
          dd.classList.toggle('open');
        });
        document.addEventListener('click', function (e) {
          if (!dd.contains(e.target)) dd.classList.remove('open');
        });
      }

      // Email: (re)build mailto from hidden bits (works even if JS was blocked)
      var el = document.getElementById('email-link');
      if (el && el.dataset && el.dataset.u) {
        var addr = el.dataset.u + '@' + el.dataset.d + '.' + el.dataset.t;
        var sub  = encodeURIComponent('Hello from the website');
        el.setAttribute('href', 'mailto:' + addr + '?subject=' + sub);
      }
    })();
  </script>
</body>
</html>
